<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>DELSU Practice & Exam</title>
<style>
  body { font-family: Arial, sans-serif; max-width: 700px; margin: 20px auto; padding: 10px; }
  h1 { text-align: center; color: #0a6600; }
  button.mode-btn { margin: 0 10px; padding: 8px 16px; background: #0a6600; color: white; border: none; cursor: pointer; }
  button.mode-btn.active { background: #489c48; }
  .question-container { margin-top: 20px; border: 1px solid #ddd; padding: 15px; border-radius: 8px; background: #f9fff9; }
  .options { margin-top: 10px; }
  .option { display: block; margin: 8px 0; }
  .option input { margin-right: 10px; }
  .feedback { margin-top: 10px; padding: 10px; border-radius: 6px; }
  .correct { background-color: #d4edda; color: #155724; }
  .incorrect { background-color: #f8d7da; color: #721c24; }
  .nav-buttons { margin-top: 15px; }
  .nav-buttons button { margin-right: 10px; padding: 8px 14px; }
  #timer { font-weight: bold; color: #cc0000; float: right; }
  #result-container { margin-top: 20px; background: #e1f1e1; padding: 15px; border-radius: 8px; }
  #review-container { margin-top: 30px; }
  .review-question { border-bottom: 1px solid #ccc; padding: 10px 0; }
  .whatsapp-container {
    position: fixed;
    bottom: 10px;
    right: 10px;
    text-align: center;
    font-family: Arial, sans-serif;
  }
  .whatsapp-icon {
    background-color: #25d366;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    display: inline-block;
    cursor: pointer;
    background-image: url('https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg');
    background-repeat: no-repeat;
    background-position: center;
    background-size: 30px 30px;
  }
  .whatsapp-text {
    font-size: 12px;
    color: #0a6600;
    margin-top: 5px;
    width: 140px;
  }
</style>
</head>
<body>

<h1>DELSU Online Practice & Exam</h1>

<div>
  <button id="practiceBtn" class="mode-btn active">Practice Mode</button>
  <button id="examBtn" class="mode-btn">Exam Mode</button>
  <span id="timer" style="display:none;">Time: 60:00</span>
</div>

<div id="question-section" class="question-container">
  <!-- Question and options will appear here -->
</div>

<div class="nav-buttons" id="nav-buttons" style="display:none;">
  <button id="prevBtn">Previous</button>
  <button id="nextBtn">Next</button>
</div>

<div id="result-container" style="display:none;"></div>

<div id="review-container" style="display:none;"></div>

<!-- WhatsApp icon and text -->
<div class="whatsapp-container" title="Tap to join DNST registered class">
  <a href="https://wa.me/2349156478004" target="_blank" rel="noopener noreferrer">
    <div class="whatsapp-icon"></div>
  </a>
  <div class="whatsapp-text">To join DNST registered class tap on this icon</div>
</div>

<script>
  // Questions data sample (use your real questions here)
  const questions = [
    {
      question: "What is 2 + 2?",
      options: ["3", "4", "5", "6"],
      answer: 1,
      explanation: "2 + 2 equals 4."
    },
    {
      question: "Capital of Nigeria?",
      options: ["Lagos", "Abuja", "Kano", "Ibadan"],
      answer: 1,
      explanation: "Abuja is the capital city of Nigeria."
    },
    // Add more questions here ...
  ];

  // For demo, repeat the above to reach 50 questions
  while(questions.length < 50) {
    questions.push(...questions.slice(0,2));
  }
  questions.length = 50; // ensure exactly 50

  // Elements
  const practiceBtn = document.getElementById('practiceBtn');
  const examBtn = document.getElementById('examBtn');
  const questionSection = document.getElementById('question-section');
  const navButtons = document.getElementById('nav-buttons');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const timerDisplay = document.getElementById('timer');
  const resultContainer = document.getElementById('result-container');
  const reviewContainer = document.getElementById('review-container');

  // State
  let mode = 'practice'; // or 'exam'
  let currentIndex = 0;
  let selectedAnswers = new Array(questions.length).fill(null);
  let timerInterval = null;
  let timeLeft = 3600; // 1 hour in seconds

  // Helper: format time mm:ss
  function formatTime(seconds) {
    let m = Math.floor(seconds / 60);
    let s = seconds % 60;
    return `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
  }

  // Render question for current index
  function renderQuestion() {
    const q = questions[currentIndex];
    let html = `<h3>Question ${currentIndex + 1} of ${questions.length}</h3>`;
    html += `<p>${q.question}</p>`;
    html += '<div class="options">';
    q.options.forEach((opt, i) => {
      let checked = selectedAnswers[currentIndex] === i ? 'checked' : '';
      html += `
        <label class="option">
          <input type="radio" name="option" value="${i}" ${checked} ${mode==='exam' && selectedAnswers[currentIndex] !== null ? 'disabled' : ''}/>
          ${opt}
        </label>`;
    });
    html += '</div>';

    // In Practice mode, show immediate feedback if answered
    if (mode === 'practice' && selectedAnswers[currentIndex] !== null) {
      const isCorrect = selectedAnswers[currentIndex] === q.answer;
      const fbClass = isCorrect ? 'correct' : 'incorrect';
      const fbText = isCorrect ? 'Correct!' : `Incorrect! Correct answer: ${q.options[q.answer]}`;
      html += `<div class="feedback ${fbClass}">${fbText}<br><em>${q.explanation}</em></div>`;
    }

    questionSection.innerHTML = html;

    // Show/hide navigation buttons
    if (mode === 'exam') {
      navButtons.style.display = 'block';
      prevBtn.disabled = currentIndex === 0;
      nextBtn.textContent = currentIndex === questions.length - 1 ? 'Submit Exam' : 'Next';
      timerDisplay.style.display = 'inline';
    } else {
      navButtons.style.display = 'none';
      timerDisplay.style.display = 'none';
    }

    // Attach event listener for options
    const options = questionSection.querySelectorAll('input[name="option"]');
    options.forEach(opt => {
      opt.onchange = function() {
        selectedAnswers[currentIndex] = parseInt(this.value);
        if (mode === 'practice') {
          renderQuestion(); // Re-render to show feedback immediately
        }
      };
    });
  }

  // Timer functions
  function startTimer() {
    timeLeft = 3600;
    timerDisplay.textContent = "Time: " + formatTime(timeLeft);
    timerInterval = setInterval(() => {
      timeLeft--;
      timerDisplay.textContent = "Time: " + formatTime(timeLeft);
      if (timeLeft <= 0) {
        clearInterval(timerInterval);
        alert("Time is up! Submitting your exam...");
        submitExam();
      }
    }, 1000);
  }

  function stopTimer() {
    clearInterval(timerInterval);
  }

  // Submit exam and show results
  function submitExam() {
    stopTimer();
    // Calculate score
    let score = 0;
    for(let i=0; i<questions.length; i++) {
      if(selectedAnswers[i] === questions[i].answer) score++;
    }
    const finalScore = score * 2; // multiply by 2 per requirement

    // Hide question and nav
    questionSection.style.display = 'none';
    navButtons.style.display = 'none';
    timerDisplay.style.display = 'none';

    // Show result
    resultContainer.style.display = 'block';
    resultContainer.innerHTML = `<h2>Exam Completed!</h2>
      <p>Your score is: <strong>${finalScore} / 100</strong> (${score} out of ${questions.length} correct)</p>
      <button id="reviewBtn">Review Answers</button>`;

    // Attach review button event
    document.getElementById('reviewBtn').onclick = () => {
      showReview();
    };
  }

  // Review answers after exam
  function showReview() {
    resultContainer.style.display = 'none';
    reviewContainer.style.display = 'block';

    let html = '<h2>Review Answers</h2>';
    questions.forEach((q, i) => {
      const userAnswer = selectedAnswers[i];
      const isCorrect = userAnswer === q.answer;
      const fbClass = isCorrect ? 'correct' : 'incorrect';

      html += `
        <div class="review-question">
          <strong>Q${i + 1}:</strong> ${q.question} <br>
          Your answer: ${userAnswer !== null ? q.options[userAnswer] : '<em>Not answered</em>'} <br>
          Correct answer: ${q.options[q.answer]} <br>
          <div class="feedback ${fbClass}">${isCorrect ? 'Correct' : 'Incorrect'}</div>
          <em>Explanation: ${q.explanation}</em>
        </div>
      `;
    });
    reviewContainer.innerHTML = html;
  }

  // Event listeners for mode buttons
  practiceBtn.onclick = () => {
    if (mode !== 'practice') {
      mode = 'practice';
      currentIndex = 0;
      selectedAnswers.fill(null);
      reviewContainer.style.display = 'none';
      resultContainer.style.display = 'none';
      questionSection.style.display = 'block';
      practiceBtn.classList.add('active');
      examBtn.classList.remove('active');
      renderQuestion();
      stopTimer();
    }
  };

  examBtn.onclick = () => {
    if (mode !== 'exam') {
      mode = 'exam';
      currentIndex = 0;
      selectedAnswers.fill(null);
      reviewContainer.style.display = 'none';
      resultContainer.style.display = 'none';
      questionSection.style.display = 'block';
      practiceBtn.classList.remove('active');
      examBtn.classList.add('active');
      renderQuestion();
      startTimer();
    }
  };
<script src="delsu.js"></script>
  // Navigation buttons for Exam mode
  prevBtn.onclick = () => {
    if (currentIndex > 0) {
      currentIndex--;
      renderQuestion();
    }
  };

  nextBtn.onclick = () => {
    if (currentIndex < questions.length - 1) {
      currentIndex++;
      renderQuestion();
    } else {
      // Submit exam
      if (confirm("Are you sure you want to submit the exam?")) {
        submitExam();
      }
    }
