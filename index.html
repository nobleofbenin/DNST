<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>DNST Post UTME Practice & Exam</title>
<style>
  /* Base and reset */
  * {
    box-sizing: border-box;
  }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f7f9fc;
    color: #2c3e50;
    margin: 0; padding: 0;
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
    padding: 20px;
  }
  header {
    text-align: center;
    margin-bottom: 20px;
  }
  header h1 {
    font-weight: 700;
    font-size: 2.2rem;
    color: #27ae60;
  }

  /* Mode and school tabs */
  .tab-group {
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
    gap: 12px;
    flex-wrap: wrap;
  }
  .tab {
    padding: 10px 25px;
    cursor: pointer;
    font-weight: 600;
    color: #555;
    border-bottom: 4px solid transparent;
    border-radius: 6px 6px 0 0;
    background-color: #e0e8ef;
    transition: all 0.3s ease;
    user-select: none;
  }
  .tab.active {
    color: white;
    background-color: #27ae60;
    border-color: #27ae60;
  }

  #modeTabs {
    margin-bottom: 30px;
  }

  /* Quiz container */
  #quiz-container {
    background: white;
    border-radius: 8px;
    padding: 25px 30px;
    box-shadow: 0 6px 15px rgb(39 174 96 / 0.2);
  }

  #timer {
    font-size: 1.1rem;
    color: #e74c3c;
    text-align: right;
    margin-bottom: 12px;
    font-weight: 600;
  }

  progress#progressBar {
    width: 100%;
    height: 22px;
    margin-bottom: 20px;
    accent-color: #27ae60;
    border-radius: 10px;
  }

  #question {
    font-size: 1.3rem;
    margin-bottom: 20px;
    font-weight: 600;
  }

  .options {
    list-style: none;
    padding-left: 0;
    margin-bottom: 15px;
  }
  .options li {
    margin-bottom: 14px;
    font-size: 1.05rem;
  }
  .options li input[type="radio"] {
    margin-right: 12px;
    transform: scale(1.2);
    cursor: pointer;
  }
  .options li label {
    cursor: pointer;
  }

  button {
    background-color: #27ae60;
    border: none;
    color: white;
    padding: 14px 25px;
    font-size: 1.1rem;
    cursor: pointer;
    border-radius: 6px;
    font-weight: 600;
    transition: background-color 0.25s ease;
  }
  button:disabled {
    background-color: #95a5a6;
    cursor: not-allowed;
  }
  button:hover:not(:disabled) {
    background-color: #219150;
  }

  #explanation {
    background-color: #ecf0f1;
    padding: 15px 20px;
    border-radius: 6px;
    margin-top: 12px;
    font-size: 1rem;
    color: #34495e;
    display: none;
  }

  #results {
    display: none;
    text-align: center;
  }
  #results h2 {
    font-weight: 700;
    color: #27ae60;
  }
  #results ul {
    text-align: left;
    max-width: 600px;
    margin: 0 auto;
    padding: 0;
    list-style: none;
  }
  #results ul li {
    margin: 6px 0;
    padding: 6px 12px;
    border-radius: 6px;
  }
  #results ul li.correct {
    background-color: #d4f5d4;
    color: #2e7d32;
    font-weight: 600;
  }
  #results ul li.incorrect {
    background-color: #fcdada;
    color: #c62828;
    font-weight: 600;
  }
  #results button {
    margin-top: 20px;
  }

  /* Responsive */
  @media (max-width: 600px) {
    body {
      padding: 15px 10px;
    }
    header h1 {
      font-size: 1.7rem;
    }
    .tab {
      padding: 8px 15px;
      font-size: 0.9rem;
    }
  }
</style>
</head>
<body>

<header>
  <h1>DNST Post UTME Practice & Exam</h1>
</header>

<!-- Mode selection -->
<div id="modeTabs" class="tab-group">
  <div class="tab active" data-mode="practice">Practice Mode</div>
  <div class="tab" data-mode="exam">Exam Mode</div>
</div>

<!-- School selection -->
<div id="schoolTabs" class="tab-group">
  <div class="tab active" data-set="uniben">DNST UNIBEN POST UTME PRACTICE QUESTION</div>
  <div class="tab" data-set="delsu">DNST DELSU POST UTME PRACTICE QUESTION</div>
  <div class="tab" data-set="nursing">DNST SCHOOL OF NURSING POST UTME PRACTICE QUESTION</div>
</div>

<div id="quiz-container">
  <div id="timer">Time Remaining: <span id="time">60</span> seconds</div>
  <progress id="progressBar" value="0" max="100"></progress>

  <div id="question">Loading question...</div>

  <ul class="options" id="options"></ul>

  <button id="toggleExplanationBtn" style="margin-bottom: 10px; display:none;">Show Explanation</button>
  <div id="explanation"></div>

  <button id="nextBtn" disabled>Next</button>
</div>

<div id="results">
  <h2>Your Score: <span id="score"></span></h2>
  <ul id="detailedResults"></ul>
  <button id="restartBtn">Try Again</button>
</div>

<script>
  // Questions data
  const questionSets = {
    uniben: [
      {
        question: "What is the capital of Nigeria?",
        options: ["Lagos", "Abuja", "Kano", "Port Harcourt"],
        answer: 1,
        explanation: "Abuja is the capital city of Nigeria since 1991."
      },
      {
        question: "Which river is the longest in Nigeria?",
        options: ["Niger River", "Benue River", "Niger Delta", "Chad River"],
        answer: 0,
        explanation: "The Niger River is the longest river in Nigeria, about 4,180 km long."
      },
      // Add more UNIBEN questions here...
    ],
    delsu: [
      {
        question: "DNST DELSU free classes start on which date?",
        options: ["Friday, May 30", "Monday, June 1", "Saturday, May 25", "Sunday, June 10"],
        answer: 0,
        explanation: "The free DNST DELSU classes start on Friday, May 30 as announced."
      },
      {
        question: "What color scheme is preferred for DNST DELSU website?",
        options: ["Green, White, Yellow", "Red, White, Blue", "Black, White, Grey", "Purple, Orange, White"],
        answer: 0,
        explanation: "Green, White, and Yellow are preferred colors for DNST DELSU."
      },
      // Add more DELSU questions here...
    ],
    nursing: [
      {
        question: "What does DNST stand for in the School of Nursing?",
        options: ["Department of Nursing Science and Technology", "Dr Noble Science Tutorial", "Delta National Science Team", "Department of Nutrition and Science Teaching"],
        answer: 1,
        explanation: "DNST stands for Dr Noble Science Tutorial."
      },
      {
        question: "When does the nursing post UTME practice start?",
        options: ["June 15", "May 30", "July 1", "May 25"],
        answer: 1,
        explanation: "The nursing post UTME practice starts May 30 with DNST sessions."
      },
      // Add more Nursing questions here...
    ]
  };

  // State variables
  let currentSet = 'uniben'; // active school
  let currentMode = 'practice'; // default mode
  let currentQuestionIndex = 0;
  let score = 0;
  let timeLeft = 60;
  let timerInterval;
  let userAnswers = []; // store answers for exam mode

  // Limits
  const maxQuestions = {
    practice: 100,
    exam: 50
  };

  // DOM Elements
  const timerElement = document.getElementById('time');
  const progressBar = document.getElementById('progressBar');
  const questionElement = document.getElementById('question');
  const optionsElement = document.getElementById('options');
  const nextBtn = document.getElementById('nextBtn');
  const resultsContainer = document.getElementById('results');
  const scoreElement = document.getElementById('score');
  const quizContainer = document.getElementById('quiz-container');
  const restartBtn = document.getElementById('restartBtn');
  const toggleExplanationBtn = document.getElementById('toggleExplanationBtn');
  const explanationDiv = document.getElementById('explanation');

  // Tabs
  const modeTabs = document.querySelectorAll('#modeTabs .tab');
  const schoolTabs = document.querySelectorAll('#schoolTabs .tab');

  // --- Event listeners for mode tabs ---
  modeTabs.forEach(tab => {
    tab.addEventListener('click', () => {
      if (tab.classList.contains('active')) return;
      modeTabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      currentMode = tab.dataset.mode;
      resetQuiz();
    });
  });

  // --- Event listeners for school tabs ---
  schoolTabs.forEach(tab => {
    tab.addEventListener('click', () => {
      if (tab.classList.contains('active')) return;
      schoolTabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      currentSet = tab.dataset.set;
      resetQuiz();
    });
  });

  // Timer functions
  function startTimer() {
    clearInterval(timerInterval);
    timeLeft = 60;
    timerElement.textContent = timeLeft;
    timerInterval = setInterval(() => {
      timeLeft--;
      timerElement.textContent = timeLeft;
      if (timeLeft <= 0) {
        clearInterval(timerInterval);
        alert("Time's up! Moving to next question.");
        handleAnswerTimeout();
      }
    }, 1000);
  }

  function handleAnswerTimeout() {
    if(currentMode === 'practice'){
      // For practice, treat as wrong answer and move on
      nextQuestion();
    } else {
      // For exam, record no answer (null) and move on
      userAnswers.push(null);
      nextQuestion();
    }
  }

  // Load a question
  function loadQuestion() {
    clearInterval(timerInterval);
    toggleExplanationBtn.style.display = 'none';
    explanationDiv.style.display = 'none';
    explanationDiv.textContent = '';
    nextBtn.disabled = true;

    const questions = questionSets[currentSet];
    const maxQ = currentMode === 'practice' ? maxQuestions.practice : maxQuestions.exam;
    if(questions.length > maxQ){
      questions.length = maxQ; // truncate if needed
    }

    if(currentQuestionIndex >= questions.length){
      showResults();
      return;
    }

    const currentQ = questions[currentQuestionIndex];
    questionElement.textContent = `Q${currentQuestionIndex + 1}. ${currentQ.question}`;
    optionsElement.innerHTML = '';

    currentQ.options.forEach((option, index) => {
      const li = document.createElement('li');
      const radioInput = document.createElement('input');
      radioInput.type = 'radio';
      radioInput.name = 'option';
      radioInput.id = 'option' + index;
      radioInput.value = index;

      radioInput.addEventListener('change', () => {
        nextBtn.disabled = false;
        if(currentMode === 'practice'){
          // show answer & explanation immediately
          showAnswerFeedback(index);
        } else {
          // just enable next button in exam mode, no feedback
          toggleExplanationBtn.style.display = 'none';
          explanationDiv.style.display = 'none';
          explanationDiv.textContent = '';
        }
      });

      const label = document.createElement('label');
      label.htmlFor = 'option' + index;
      label.textContent = option;

      li.appendChild(radioInput);
      li.appendChild(label);
      optionsElement.appendChild(li);
    });

    progressBar.value = (currentQuestionIndex / questions.length) * 100;

    startTimer();
  }

  // Show immediate feedback for Practice mode
  function showAnswerFeedback(selectedIndex) {
    const currentQ = questionSets[currentSet][currentQuestionIndex];

    toggleExplanationBtn.style.display = 'inline-block';
    explanationDiv.style.display = 'block';

    if(selectedIndex === currentQ.answer){
      explanationDiv.style.backgroundColor = '#d4f5d4'; // green background
      explanationDiv.style.color = '#2e7d32';
      explanationDiv.textContent = `Correct! ✅ ${currentQ.explanation || ''}`;
    } else {
      explanationDiv.style
